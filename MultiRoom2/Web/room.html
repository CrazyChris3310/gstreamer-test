<!DOCTYPE html>
<html lang="en">
<head>
    <title>Videoconference</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="/webrtc.js"></script>
</head>
<body>
    <div>
        <div id="remote-streams" class="container"></div>
    
        <div style="padding: 0.5em">
            <div class="main-page">
                <div class="viewport-window">
                    <video id="viewport" autoplay playsinline class="viewport"></video>
                </div>
                <div class="chat">
                    <div id="message-block"></div>
                    <input id="chat-input" type="text" disabled/>
                </div>
            </div>
            <div class="templates-block">
                <label for="template-selector">Select template:</label>
                <select id="template-selector">
                    <option value="default">Default</option>
                    <option value="main">main</option>
                    <option value="reshetka">reshetka</option>
                </select>
            </div>
            <div>
                <input type="button" value="Connect" onclick="connect()"/>
            </div>
        </div>
    </div>

    <div id="select-media-window" class="modal">
        <video autoplay playsinline id="local-preview"></video>
        <div class="device-selectors">
            <div>
                <label for="microphone-selector">Select micro:</label>
                <select id="microphone-selector"></select>
            </div>
            <div>
                <label for="video-selector">Select cam:</label>
                <select id="video-selector" onchange="showPreview()"></select>
            </div>
            <div>
                <input type="button" value="Send video" onclick="startStreaming('video')"/>
                <input type="button" value="Send audio" onclick="startStreaming('audio')"/>
                <input type="button" value="Send video + audio" onclick="startStreaming('both')"/>
                <input type="button" value="Send screenshare" onclick="startStreaming('screen')"/>
                <input type="button" value="Don't send anything" onclick="startStreaming('none')"/>
            </div>
            <div>
                <input type="button" value="Close" onclick="setModalState('hidden')"/>
            </div>
        </div>
    </div>

    <video playsinline autoplay >
        <source src="/video.mp4" type="video/mp4">
    </video> 
</body>
</html>
